<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Un pied à l'étrier</title>
    <style>
        body {
            background-color: antiquewhite;
        }
    </style>
</head>
<body>
    <div style="display: flex; gap: 20px; align-items: flex-start;">    
        <canvas id="my_canvas"></canvas>
    </div>
    <script>
    const HEXTILES_IMAGE = new Image();
        HEXTILES_IMAGE.src = 'foodAndColony.png';
        Promise.all([
            new Promise( (resolve) => {HEXTILES_IMAGE.addEventListener('load', () => { resolve();}); })
        ])
        .then(() => {   
            // ce code serait un attribut de la classe model 
            let _grid = [
                    [0, 0, 0],
                    [0, 1, 0],
                    [0, 2, 0],
                    [0, 0, 0],
                ];
            let _nbLines   = _grid.length; // Nombre d'éléments dans le tableau (nombre de lignes).
            let _nbColumns = _grid[0].length; // Nombre de colonnes.
            // ce code serait un attribut de la classe view
            let _cellSize  = 250; // La taille d'une cellule en pixel.
            (function() {
                //ce code serait une méthode de la classe view
                let canvas = document.getElementById('my_canvas'); // Récupération d'une balise HTML par son ID.
                canvas.width  = _nbColumns * _cellSize;
                canvas.height = _nbLines * _cellSize;
                let ctx = canvas.getContext('2d'); // Récupération de la surface de dessin.
                // ce code serait une méthode de la classe view
                for (let i_line = 0; i_line < _nbLines; i_line++) { // Boucles for pour afficher la grille.
                    for (let i_col = 0; i_col < _nbColumns; i_col++) {
                        ctx.drawImage(HEXTILES_IMAGE, _grid[i_line][i_col]*32, 0, 32, 32, i_col * _cellSize, i_line * _cellSize, _cellSize, _cellSize);
                        // if (_grid[i_line][i_col] == 0) {
                        //     ctx.drawImage(HEXTILES_IMAGE, 0, 0, 32, 32, i_col * _cellSize, i_line * _cellSize, _cellSize, _cellSize);
                        // } else if (_grid[i_line][i_col] == 1) {
                        //     ctx.drawImage(HEXTILES_IMAGE, 32, 0, 32, 32, i_col * _cellSize, i_line * _cellSize, _cellSize, _cellSize);
                        // } else if (_grid[i_line][i_col] == 2) {
                        //     ctx.drawImage(HEXTILES_IMAGE, 64,0, 32, 32, i_col * _cellSize, i_line * _cellSize, _cellSize, _cellSize);
                        // }       
                    }
                }
            })();
        });      
    </script>
    
</body>
</html>